folder-hook 'jjanzic' 'source ~/.mutt/jjanzicrc'
folder-hook 'personal' 'source ~/.mutt/personalrc'
folder-hook 'insided' 'source ~/.mutt/insidedrc'

source '~/.mutt/jjanzicrc'

set signature = "~/.mutt/signature"

mailboxes ~/.mail/jjanzic/inbox/ ~/.mail/jjanzic/archive/ ~/.mail/personal/inbox/ ~/.mail/personal/archive/ ~/.mail/insided/inbox/ ~/.mail/insided/archive/ ~/.mail/mnlth/inbox/ ~/.mail/mnlth/archive/

set sleep_time=0
set spoolfile=+/

macro index <f1> '<change-folder>~/.mail/jjanzic/inbox<enter>'
macro index <f2> '<change-folder>~/.mail/personal/inbox<enter>'
macro index <f3> '<change-folder>~/.mail/insided/inbox<enter>'

macro index,pager v1 '<change-folder>~/.mail/personal/inbox<enter>'
macro index,pager v2 '<change-folder>~/.mail/personal/archive<enter>'
macro index,pager v3 '<change-folder>~/.mail/insided/inbox<enter>'
macro index,pager v4 '<change-folder>~/.mail/insided/archive<enter>'
macro index,pager v5 '<change-folder>~/.mail/jjanzic/inbox<enter>'
macro index,pager v6 '<change-folder>~/.mail/jjanzic/archive<enter>'

set query_command="goobook query %s"
macro index,pager a "<pipe-message>goobook add<return>" "add sender to google contacts"
bind editor <Tab> complete-query

set editor=vim

set my_tprot='t-prot -emtS -c --bigq -Mmutt --spass'
set display_filter=$my_tprot

set tilde
set smart_wrap
set wrap=100
set markers=no



bind pager        j next-line
bind pager        k previous-line
bind pager        g top
bind pager        G bottom
bind attach,index g first-entry
bind attach,index G last-entry
bind index,pager  R group-reply

bind pager v view-attachments

macro index \Cr "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"


macro index S \
          "<enter-command>set my_old_pipe_decode=\$pipe_decode my_old_wait_key=\$wait_key nopipe_decode nowait_key<enter>\
          <shell-escape>notmuch-mutt -r --prompt search<enter>\
          <change-folder-readonly>`echo ${XDG_CACHE_HOME:-$HOME/.cache}/notmuch/mutt/results`<enter>\
          <enter-command>set pipe_decode=\$my_old_pipe_decode wait_key=\$my_old_wait_key<enter>" \
          "notmuch: search mail"


set mailcap_path  = ~/.mutt/mailcap

set pager_context=10

my_hdr X-PGP-Key: https://keybase.io/jjanzic/pgp_keys.asc
my_hdr X-Hack-The-Planet: Yes
my_hdr X-Acid-Burn: Yes
my_hdr X-Face: 2.@)Bj+UtRj:iQzX:/=pFO\\r-S.[zlWJ851S*RE9e%S(!Uwa[8.\#(U\;v\\?VHuuQPi?,ZM}Ejs>Z{T2:}Jrw&E?\\@o-%Dt\$c<\":\`c\#IkDr=yc}xynk3!8I=\'tamtFoU}s+xGWgdi>\$\#_{q5\'wr}[v\$et79w\#h]p92z4f=CWr2~,c?Fj\`z]et<v}v=(iuF\$a|ms\\=Djf]\#j[a>\\iEa!ggp{}!Pt\#LHu?,\$%?jQXXjuZ(02N(OI68?n(\$Jmd9+W1=TmY%Ep)x~=FOfTVrpl|m-sbF]S\`Y-%,asUme<&\`LQcy<>bDFn\'f^~mO{.qr<W[


# set date_format="%d.%m %H:%M"
# set index_format="%d | %-30.30F %s"

set index_format='%<[y?%<[m?%<[d?%[%H:%M ]&%[%d %a]>&%[%b %d]>&%[%m/%y ]> %-20.20F %s'

set sort=threads
set sort_aux=reverse-last-date-received

set fast_reply=yes
set include=yes

set arrow_cursor
set narrow_tree

# set resolve = no
set wait_key = no
set delete  # don't ask, just do
unset mark_old
set beep_new
set sendmail_wait = 0
unset record
set reply_to
set reverse_name

set status_on_top
set status_format       = "[%f %l] %?M?%M/?%m Mails %?n?%n new, ?%?u?%u unread, ?%?p?%p drafts, ?%?t?%t +tagged, ?%?d?%d deleted, ?  %?b?%b unread messages. ?%>  %V  [%P]"

# set sidebar_visible = yes
# set sidebar_short_path = yes
# set sidebar_format = "%B%?F? [%F]?%* %?N?%N/?%S"

ignore *
unignore date subject user-agent posted-to
unignore to cc bcc from
set edit_headers=yes

hdr_order Date From To Cc
alternative_order text/plain text/enriched text/html *
auto_view text/html


bind editor <Tab> complete-query
bind editor ^T complete
bind editor <space> noop



bind index M    recall-message
macro index,pager Gi "<change-folder>=../inbox<enter>" "Go to Inbox"
macro index,pager Ga "<change-folder>=../archive<enter>" "Go to All Mail"

source ~/.mutt/gpg
source ~/.mutt/colors
